<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Word Counter Tool — Tool Tap</title>
<link rel="icon" href="favicon_io/favicon-16x16.png" type="image/x-icon">
<style>
  :root{
    --blue:#1677ff;
    --blue-2:#0f5ed7;
    --bg:linear-gradient(135deg,#eef6ff,#ffffff);
    --soft:#f4f9ff;
    --muted:#5b6b8a;
    --card:#ffffff;
    --radius:14px;
    --shadow: 0 12px 30px rgba(13,46,98,0.06);
    --glass: rgba(255,255,255,0.8);
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg);color:#0b2338;min-height:100vh;
    display:flex;align-items:center;justify-content:center;padding:20px;
  }

  .wrap{
    width:100%;max-width:920px;background:var(--card);border-radius:18px;
    padding:22px;box-shadow:var(--shadow);border:1px solid rgba(16,64,160,0.04);
    animation:cardIn .45s cubic-bezier(.2,.9,.2,1);
  }
  @keyframes cardIn{ from{ transform:translateY(14px); opacity:0 } to{ transform:none; opacity:1 } }

  .head{
    display:flex;align-items:center;gap:12px;margin-bottom:12px;
  }
  .brand{
    background:linear-gradient(90deg,var(--blue),var(--blue-2));
    color:white;padding:10px 14px;border-radius:10px;font-weight:800;
    box-shadow:0 6px 18px rgba(22,119,255,0.12);
  }
  h1{margin:0;font-size:1.2rem}

  .grid{
    display:grid;grid-template-columns:1fr 320px;gap:18px;
  }

  /* Left column */
  .editor{
    display:flex;flex-direction:column;gap:12px;
  }
  textarea#text{
    width:100%;min-height:260px;padding:14px;border-radius:12px;border:2px solid rgba(22,119,255,0.10);
    background:var(--soft);font-size:15px;line-height:1.6;color:#062b45;resize:vertical;
    outline:none;transition:box-shadow .18s, border-color .18s;
  }
  textarea#text:focus{ box-shadow:0 8px 22px rgba(22,119,255,0.10); border-color:var(--blue-2) }

  .controls{
    display:flex;gap:10px;flex-wrap:wrap;align-items:center;
  }
  .btn{
    background:var(--blue);color:#fff;border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;
  }
  .btn.ghost{ background:transparent;border:1px solid rgba(22,119,255,0.12);color:var(--muted);font-weight:600 }
  .btn.small{ padding:8px 10px;font-size:14px }

  .options{ display:flex;gap:10px;flex-wrap:wrap;align-items:center }
  .option{ background:var(--soft); padding:8px 10px;border-radius:10px;color:var(--muted); font-size:14px; display:flex;gap:8px;align-items:center }
  .option input{ transform:scale(1.05) }

  /* Right column */
  .side{
    display:flex;flex-direction:column;gap:12px;
  }
  .panel{
    background:linear-gradient(180deg,#fff,#fbfdff);padding:14px;border-radius:12px;border:1px solid rgba(16,64,160,0.03);
  }
  .stats{
    display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:8px;
  }
  .stat{
    padding:12px;border-radius:10px;background:var(--soft);text-align:center;
  }
  .stat .num{font-size:1.25rem;font-weight:800;color:var(--blue-2)}
  .stat .label{font-size:0.88rem;color:var(--muted);margin-top:6px}

  .preview{
    min-height:140px;max-height:280px;overflow:auto;padding:12px;border-radius:10px;
    border:1px dashed rgba(22,119,255,0.06);background:#fcfeff;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, 'Courier New', monospace;
    white-space:pre-wrap;word-break:break-word;color:#07314a;
  }

  .side .actions{ display:flex;gap:8px;margin-top:8px }
  .link{ font-size:0.9rem;color:var(--blue-2); text-decoration:none }

  .footer{ margin-top:12px;text-align:center;color:var(--muted);font-size:0.92rem }

  /* small animation */
  .stat.pop{ transform:translateY(-6px); transition:transform .18s; }
  .flash{ animation:flashC 0.28s ease; }
  @keyframes flashC{ 0%{ transform:translateY(-6px) } 100%{ transform:none } }

  /* responsive */
  @media (max-width:980px){
    .grid{ grid-template-columns: 1fr; }
    .side{ order:2 }
  }
  @media (max-width:520px){
    textarea#text{ min-height:180px }
    .brand{ padding:8px 10px }
  }

</style>
</head>
<body>
  <main class="wrap" role="main" aria-labelledby="title">
    <div class="head">
      <div class="brand">Tool Tap</div>
      <div>
        <h1 id="title">Word Counter Tool</h1>
        <div style="color:var(--muted);font-size:0.95rem">Real-time counts — words, characters, sentences, paragraphs. Toggle options below.</div>
      </div>
    </div>

    <div class="grid">
      <!-- editor -->
      <section class="editor" aria-label="Text input">
        <textarea id="text" placeholder="Type or paste text here... (copy/paste bhi chal jayega)"></textarea>

        <div class="controls">
          <div class="options" aria-hidden="false">
            <label class="option"><input type="checkbox" id="excludeSpaces" /> Exclude spaces from character count</label>
            <label class="option"><input type="checkbox" id="ignoreEmpty" checked /> Ignore empty lines as paragraphs</label>
          </div>

          <div style="margin-left:auto;display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn small" id="copyBtn">Copy Text</button>
            <button class="btn small ghost" id="clearBtn">Clear</button>
          </div>
        </div>

        <div style="display:flex;gap:10px;margin-top:6px">
          <button class="btn" id="dummyCountBtn" style="flex:1">Instant Update</button>
          <button class="btn ghost small" id="downloadBtn" style="flex:0 0 160px">Download .txt</button>
        </div>
      </section>

      <!-- side -->
      <aside class="side" aria-label="Statistics and preview">
        <div class="panel" aria-live="polite">
          <div class="stats">
            <div class="stat" id="wordsStat"><div class="num" id="words">0</div><div class="label">Words</div></div>
            <div class="stat" id="charsStat"><div class="num" id="chars">0</div><div class="label">Characters</div></div>
            <div class="stat" id="charsNoSpaceStat"><div class="num" id="charsNoSpace">0</div><div class="label">Chars (no spaces)</div></div>
            <div class="stat" id="sentStat"><div class="num" id="sentences">0</div><div class="label">Sentences</div></div>
          </div>

          <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
            <div style="font-size:0.92rem;color:var(--muted)">Paragraphs: <strong id="paragraphs">0</strong></div>
            <div style="font-size:0.92rem;color:var(--muted)">Est. reading: <strong id="reading">0 min</strong></div>
          </div>

          <div style="margin-top:10px;font-size:0.9rem;color:var(--muted)">Preview</div>
          <pre id="preview" class="preview">Preview will appear here...</pre>

          <div class="actions">
            <button class="btn ghost small" id="copyPreviewBtn">Copy Output</button>
            <a id="downloadLink" class="link" href="#" download="text.txt" style="margin-left:auto;align-self:center;display:none">Ready to download</a>
          </div>
        </div>

        <div class="panel">
          <div style="font-weight:700;margin-bottom:8px">How counts are calculated</div>
          <div style="color:var(--muted);font-size:0.92rem">
            • Words: groups of non-space characters separated by whitespace.<br>
            • Characters: total characters including spaces (toggle to exclude).<br>
            • Sentences: segments separated by punctuation like . ! ? (simple heuristic).<br>
            • Paragraphs: blocks separated by blank lines (toggle to ignore empty lines).
          </div>
        </div>
      </aside>
    </div>

    <div class="footer">Tool Tap © 2025 | Your smart text analyzer</div>
  </main>

<script>
  // Elements
  const textEl = document.getElementById('text');
  const wordsEl = document.getElementById('words');
  const charsEl = document.getElementById('chars');
  const charsNoSpaceEl = document.getElementById('charsNoSpace');
  const sentencesEl = document.getElementById('sentences');
  const paragraphsEl = document.getElementById('paragraphs');
  const previewEl = document.getElementById('preview');
  const readingEl = document.getElementById('reading');

  const excludeSpacesCheckbox = document.getElementById('excludeSpaces');
  const ignoreEmptyCheckbox = document.getElementById('ignoreEmpty');

  const copyBtn = document.getElementById('copyBtn');
  const clearBtn = document.getElementById('clearBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const dummyCountBtn = document.getElementById('dummyCountBtn');
  const copyPreviewBtn = document.getElementById('copyPreviewBtn');
  const downloadLink = document.getElementById('downloadLink');

  // Debounce
  let debounce;
  function scheduleCount(){
    clearTimeout(debounce);
    debounce = setTimeout(countAll, 160); // real-time but not spammy
  }

  // Text counting logic
  function countAll(){
    const text = textEl.value || '';
    // words: use match of sequences of non-space (better for multiple languages)
    const words = (text.match(/\b[^\s]+\b/g) || []);
    const wordsCount = words.length;

    // characters
    const charsWithSpaces = text.length;
    const charsNoSpaces = text.replace(/\s/g, '').length;

    // sentences: split by punctuation (.!?…) consider sequences
    // We'll count segments that have letters/digits
    const sentenceMatches = text.match(/[^.!?]+[.!?]*/g) || [];
    const sentences = sentenceMatches.filter(s=>/\w/.test(s)).length;

    // paragraphs: blocks separated by blank lines
    const paras = text.split(/\n+/).map(p=>p.replace(/\s+/g,' ').trim());
    const filteredParas = ignoreEmptyCheckbox.checked ? paras.filter(p=>p.length>0) : paras;
    const paragraphs = filteredParas.length === 1 && filteredParas[0] === '' ? 0 : filteredParas.length;

    // estimated reading time (words per minute = 200)
    const readingMins = wordsCount === 0 ? 0 : Math.max(1, Math.round(wordsCount / 200));

    // Update UI
    animateNumber(wordsEl, wordsCount);
    animateNumber(charsEl, charsWithSpaces);
    animateNumber(charsNoSpaceEl, charsNoSpaces);
    animateNumber(sentencesEl, sentences);
    paragraphsEl.textContent = paragraphs;
    readingEl.textContent = `${readingMins} min`;

    // Preview (cleaned)
    previewEl.textContent = text.length ? text : 'Preview will appear here...';

    // Download link: prepare blob for download
    prepareDownload(text);
  }

  // small animate
  function animateNumber(el, value){
    el.classList.add('pop');
    el.textContent = value;
    setTimeout(()=> el.classList.remove('pop'), 200);
  }

  // copy main textarea
  copyBtn.addEventListener('click', async ()=>{
    const txt = textEl.value || '';
    if(!txt) return flashBtn(copyBtn, 'Nothing to copy');
    try{
      await navigator.clipboard.writeText(txt);
      flashBtn(copyBtn, 'Copied ✓');
    }catch(e){
      flashBtn(copyBtn, 'Copied');
    }
  });

  // copy preview
  copyPreviewBtn.addEventListener('click', async ()=>{
    const txt = previewEl.textContent || '';
    if(!txt) return flashBtn(copyPreviewBtn, 'Nothing');
    try{
      await navigator.clipboard.writeText(txt);
      flashBtn(copyPreviewBtn, 'Copied ✓');
    }catch(e){ flashBtn(copyPreviewBtn, 'Copied'); }
  });

  // clear
  clearBtn.addEventListener('click', ()=>{
    textEl.value = '';
    countAll();
  });

  // Download .txt
  downloadBtn.addEventListener('click', ()=>{
    if(!textEl.value) return flashBtn(downloadBtn, 'Nothing to download');
    // trigger link
    downloadLink.click();
  });

  function prepareDownload(text){
    if(!text) { downloadLink.style.display = 'none'; return; }
    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    downloadLink.href = url;
    downloadLink.download = 'text.txt';
    downloadLink.style.display = 'inline';
  }

  // small UI flash helper
  function flashBtn(btn, label){
    const original = btn.textContent;
    btn.textContent = label;
    btn.disabled = true;
    setTimeout(()=>{ btn.textContent = original; btn.disabled = false; }, 1200);
  }

  // manual update button (keeps "instant update" UX also)
  dummyCountBtn.addEventListener('click', countAll);

  // trigger count on typing / options change
  textEl.addEventListener('input', scheduleCount);
  excludeSpacesCheckbox.addEventListener('change', countAll);
  ignoreEmptyCheckbox.addEventListener('change', countAll);

  // initialize
  countAll();

  // Support paste and drop auto-count
  textEl.addEventListener('paste', () => setTimeout(countAll, 60));
  textEl.addEventListener('drop', () => setTimeout(countAll, 60));
</script>
</body>
</html>
